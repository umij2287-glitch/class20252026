<!DOCTYPE html>

<html lang="ko">

<head>
    
    <meta charset="UTF-8">
    <title>배열 연습</title>
    
    <style>

        table {
            margin: 0 auto;
            border: solid 1px;
        }
        tr td img {
            width: 100px;
        }
        #below {
            border: solid 1px;
        }
        #below img {
            width: 400px;
        }

    </style>

</head>

<body>
    
    <table id="images-table">
        <tr>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
            <td><img src="" alt=""></td>
        </tr>
    </table>

    <div id="below">
        <table>
            <tr>
                <td><button id="prev-btn">이전</button></td>
                <td><img src="" alt=""></td>
                <td><button id="next-btn">다음</button></td>
            </tr>
        </table>
        
    </div>
    
    <script>

        const imgs = document.querySelectorAll("#images-table img");
        const imgBelow = document.querySelector("#below img");

        for (let i = 0; i < imgs.length; i++) {
        
            imgs[i].src = `images2/${i}.jpg`;
        
        }

        function insertPic(event) { // function 은 지금 실행되는 것이 아님.

            const img = event.target;
            
            imgBelow.src = img.src;
            imgs[currentPosition].style.border = ""; 

                for (let i = 0; i < imgs.length; i++) {
                    
                    if (imgs[i].src == img.src) { // 또는 imgs[i] == img : 배열 imgs 를 순회하면서 현재 클릭된 이미지와 같은 이미지라면;
                    
                        currentPosition = i;

                        break;

                    }
                
                }
                
                imgs[currentPosition].style.border = "solid 2px blue"; // 같은 코드를 여러번 복사 붙여넣기 하는건 좋지 않다.
        }

        for (let i = 0; i < imgs.length; i++ ) {

            imgs[i].addEventListener("click", insertPic);

        }

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

        let currentPosition = 0; // function 보다 먼저 실행됨.
        
        imgBelow.src = imgs[currentPosition].src;
        imgs[currentPosition].style.border = "solid 2px blue"; // 같은 코드를 여러번 복사 붙여넣기 하는건 좋지 않다.

        const prevBtn = document.querySelector("#prev-btn");
        const nextBtn = document.querySelector("#next-btn");

        function moveNext(event) {
            
            imgs[currentPosition].style.border = ""; 
            currentPosition++;
            
                if (currentPosition > imgs.length - 1) {
                
                    currentPosition = 0;
                
                }

            imgBelow.src = `images2/${currentPosition}.jpg`; // imgs[currentPosition].src;
            imgs[currentPosition].style.border = "solid 2px blue"; // 같은 코드를 여러번 복사 붙여넣기 하는건 좋지 않다.
            
        }   
        
        function movePrev(event) {
            
            imgs[currentPosition].style.border = ""; 
            currentPosition--;
            
                if (currentPosition < 0) {
                
                    currentPosition = imgs.length - 1;
                
                }
            
            imgBelow.src = `images2/${currentPosition}.jpg`;
            imgs[currentPosition].style.border = "solid 2px blue"; // 같은 코드를 여러번 복사 붙여넣기 하는건 좋지 않다.

        }

        prevBtn.addEventListener("click", movePrev); // function 은 이때 실행됨 !
        nextBtn.addEventListener("click", moveNext);

    </script>

</body>

</html>